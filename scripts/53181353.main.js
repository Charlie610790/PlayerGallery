"use strict";var DetailView=Backbone.View.extend({className:"detail-view",template:_.template($(".detail-view-template").text()),events:{"click .saveButton":"updateModel","click .newButton":"createPhoto","click .deleteButton":"deletePlayer","click .moveToInjuredButton":"movePlayerToDL","click .moveToAAAButton":"movePlayerToAAA","click .moveToActiveButton":"movePlayerToActive","click .moveToActiveDLButton":"movePlayerToActiveDL","click .dlCollectionButoon":"turnOnDLCollection","click .aaaCollectionButton":"turnOnAAACollection","click .activeCollectionButton":"turnOnActiveCollection","click .resetCollectionButton":"resetCollections"},initialize:function(){this.listenTo(photos,"add",function(a){new ThumbnailView({model:a})}),$(".editContainer").prepend(this.el),this.render()},render:function(){var a=this.template(this.model.attributes);return this.$el.html(a),this},updateModel:function(){var a=this;this.model.set({url:this.$el.find(".url-input").val(),comment:this.$el.find(".name-input").val()}),photos.add(this.model),this.model.save().done(function(){a.$el.find(".status").html("You Added A New Player!")})},deletePlayer:function(){this.model.destroy()},movePlayerToDL:function(){$.post("http://tiny-pizza-server.herokuapp.com/collections/injuredListContainer",{url:this.model.attributes.url,comment:this.model.attributes.comment}),this.model.destroy().done},movePlayerToAAA:function(){$.post("http://tiny-pizza-server.herokuapp.com/collections/aaaContainer",{url:this.model.attributes.url,comment:this.model.attributes.comment}),this.model.destroy().done},movePlayerToActive:function(){$.post("http://tiny-pizza-server.herokuapp.com/collections/Charliephoto",{url:this.model.attributes.url,comment:this.model.attributes.comment}),this.model.destroy().done},movePlayerToActiveDL:function(){$.post("http://tiny-pizza-server.herokuapp.com/collections/injuredListContainer",{url:this.model.attributes.url,comment:this.model.attributes.comment})},createPhoto:function(){var a=new Photo;this.model=a,this.$el.find(".url-input").val(""),this.$el.find(".name-input").val(""),this.$el.find("img").attr("src","http://placehold.it/370x300")},turnOnDLCollection:function(){$(".injuredListContainer").show(),$(".activeCollectionButton").show(),$(".dlCollectionButoon").hide(),$(".activeRosterContainer").hide(),$(".aaaListContainer").hide(),$(".aaaCollectionButton").show()},turnOnAAACollection:function(){$(".injuredListContainer").hide(),$(".activeCollectionButton").show(),$(".dlCollectionButoon").show(),$(".activeRosterContainer").hide(),$(".aaaListContainer").show(),$(".aaaCollectionButton").hide()},turnOnActiveCollection:function(){$(".injuredListContainer").hide(),$(".activeCollectionButton").hide(),$(".dlCollectionButoon").show(),$(".activeRosterContainer").show(),$(".aaaListContainer").hide(),$(".aaaCollectionButton").show()},resetCollections:function(){$(".injuredListContainer").show(),$(".activeCollectionButton").hide(),$(".dlCollectionButoon").hide(),$(".activeRosterContainer").show(),$(".aaaListContainer").show(),$(".aaaCollectionButton").hide()}}),AppRouter=Backbone.Router.extend({routes:{"":"renderHome",players:"renderPlayers","players/:playername":"renderPlayer"},initialize:function(){},renderHome:function(){$(".editImage").attr("src","http://placehold.it/370x300"),$(".url-input").val(""),$(".name-input").val("")},renderPlayers:function(){$(".editImage").attr("src","http://placehold.it/370x300"),console.log("render players works")},renderPlayer:function(){}}),Photo=Backbone.Model.extend({idAttribute:"_id",defaults:{comment:"Go Red Sox",url:"http://content.sportslogos.net/logos/53/53/full/ba0u6pkfm7zmorlyyy00cx0os.gif"}}),PhotoCollection=Backbone.Collection.extend({model:Photo,url:"http://tiny-pizza-server.herokuapp.com/collections/Charliephoto"}),InjuredPlayer=Backbone.Model.extend({idAttribute:"_id",defaults:{comment:"Go Red Sox",url:"http://content.sportslogos.net/logos/53/53/full/ba0u6pkfm7zmorlyyy00cx0os.gif"}}),InjuredCollection=Backbone.Collection.extend({model:InjuredPlayer,url:"http://tiny-pizza-server.herokuapp.com/collections/injuredListContainer"}),AAAPlayer=Backbone.Model.extend({idAttribute:"_id",defaults:{comment:"Go Red Sox",url:"http://content.sportslogos.net/logos/53/53/full/ba0u6pkfm7zmorlyyy00cx0os.gif"}}),AAACollection=Backbone.Collection.extend({model:InjuredPlayer,url:"http://tiny-pizza-server.herokuapp.com/collections/aaaContainer"}),ThumbnailView=Backbone.View.extend({className:"thumbnail",thumbnailTemplate:_.template($(".thumbnail-template").text()),events:{click:"showDetailView"},initialize:function(){$(".activeContainer").append(this.el),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"add",this.render),this.listenTo(this.model,"remove",this.render),this.render()},render:function(){if(this.model.attributes.hasOwnProperty("url")){var a=this.thumbnailTemplate(this.model.attributes);this.$el.html(a)}},showDetailView:function(){detailViewInstance.remove(),detailViewInstance=new DetailView({model:this.model})}}),InjuredView=Backbone.View.extend({className:"thumbnail",thumbnailTemplate:_.template($(".thumbnail-template").text()),events:{click:"showDetailView"},initialize:function(){$(".injuredContainer").append(this.el),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"add",this.render),this.listenTo(this.model,"remove",this.render),this.render()},render:function(){if(this.model.attributes.hasOwnProperty("url")){var a=this.thumbnailTemplate(this.model.attributes);this.$el.html(a)}},showDetailView:function(){detailViewInstance.remove(),detailViewInstance=new DetailView({model:this.model})}}),AAAView=Backbone.View.extend({className:"thumbnail",thumbnailTemplate:_.template($(".thumbnail-template").text()),events:{click:"showDetailView"},initialize:function(){$(".aaaContainer").append(this.el),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"add",this.render),this.listenTo(this.model,"remove",this.render),this.render()},render:function(){if(this.model.attributes.hasOwnProperty("url")){var a=this.thumbnailTemplate(this.model.attributes);this.$el.html(a)}},showDetailView:function(){detailViewInstance.remove(),detailViewInstance=new DetailView({model:this.model})}}),injuredPlayers=new InjuredCollection;injuredPlayers.fetch().done(function(){injuredPlayers.each(function(a){new InjuredView({model:a})})});var aaaPlayers=new AAACollection;aaaPlayers.fetch().done(function(){aaaPlayers.each(function(a){new AAAView({model:a})})});var photos=new PhotoCollection,detailViewInstance;photos.fetch().done(function(){photos.each(function(a){new ThumbnailView({model:a})}),detailViewInstance=new DetailView({model:photos.first()})});var app=new AppRouter;Backbone.history.start();